/*! LDRLY-Leaderboard - v0.0.1 - 2014-02-03
* Copyright (c) 2014 ; Licensed  */
"use strict";if(ldrly)console.log("LDRLY namespace exists!");else var ldrly={};ldrly.SIMULATE=!1,ldrly.ENVIRONMENT=function(){var a,b,c=window.location;return a=c.hostname,b="127.0.0.1"===a||"localhost"===a||a.match("192.168")?"LOCAL":a.indexOf(".dev.")>-1?"DEV":a.indexOf(".daily.")>-1?"DAILY":a.indexOf(".latest.")>-1?"LATEST":a.indexOf(".a1.")>-1?"A1":"PRODUCTION"}(),ldrly.Configuration=function(){var a="",b="",c="dev";_.isEqual(ldrly.ENVIRONMENT,"LOCAL")?(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host):_.isEqual(ldrly.ENVIRONMENT,"DEV")?(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host):_.isEqual(ldrly.ENVIRONMENT,"DAILY")?(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host):_.isEqual(ldrly.ENVIRONMENT,"LATEST")?(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host):_.isEqual(ldrly.ENVIRONMENT,"A1")?(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host):_.isEqual(ldrly.ENVIRONMENT,"PRODUCTION")&&(a="http://agraph.pushupsforyourbrain.com",b="http://"+window.location.host),this.getEndPoints=function(){var c={ldrly:{ag:a,url:b}};return c},this.getRepository=function(){return c},this.setRepository=function(a){c=a}},ldrly.config=new ldrly.Configuration(null),ldrly.util={},ldrly.util.getURL=function(){this.URL=window.location,console.log("URL: "+this.URL)},ldrly.util.setSize=function(a,b){var c,d;if(_.isUndefined(b))var b={height:1,width:1};"number"==typeof window.innerWidth?(c=window.innerWidth,d=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(c=document.documentElement.clientWidth,d=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(c=document.body.clientWidth,d=document.body.clientHeight),d=(d-5)*b.height,c=(c-5)*b.width,document.getElementById(a).style.height=d+"px",document.getElementById(a).style.width=c+"px"},ldrly.util.setVideoSize=function(a,b,c){var d,e,f;if(_.isUndefined(c))var c={height:1,width:1};"number"==typeof window.innerWidth?(d=window.innerWidth,e=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(d=document.documentElement.clientWidth,e=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(d=document.body.clientWidth,e=document.body.clientHeight),e=(e-5)*c.height,d=(d-5)*c.width,f=_.isUndefined(a)?b:document.getElementById(a),f.height=e,f.width=d,f.videoHeight=e,f.videoWidth=d},ldrly.util.connected=!1,ldrly.util.isOnline=function(){setTimeout(ldrly.util.isOnline,5e3),navigator.onLine?(console.log("Internet connected!"),0==ldrly.util.connected&&ldrly.util.restart(),ldrly.util.connected=!0):(console.log("Internet disconnected!"),ldrly.util.connected=!1)},ldrly.util.restart=function(){scd.profile.application==ice.p.profile.application.marketing.campaign_management.promotion&&ldrly.promotion.generatePlaylist(),"report"==scd.profile.application&&loadUserApplicationProfile()},ldrly.util.uuid={},ldrly.util.uuid.v4={},ldrly.util.uuid.v4.random=function(){for(var a=[],b="0123456789ABCDEF",c=0;36>c;c++)a[c]=Math.floor(16*Math.random());a[14]=4,a[19]=3&a[19]|8;for(var c=0;36>c;c++)a[c]=b[a[c]];return a[8]=a[13]=a[18]=a[23]="-",a.join("")},ldrly.util.encode=function(a,b){var c=null;return console.log("@encode"),console.log(a),c=_.isNull(a)||_.isUndefined(a)?a:encodeURIComponent(a),_.isNull(b)||_.isUndefined(b)?c:void b(void 0,c)},ldrly.util.decode=function(a,b){var c=a;return console.log("@decode"),console.log(a),_.isNull(a)||_.isUndefined(a)||_.indexOf(a,"%")>-1&&(c=decodeURIComponent(a)),_.isNull(b)||_.isUndefined(b)?c:void b(void 0,c)},ldrly.util.date={},ldrly.util.time={},ldrly.util.date.currentYear=function(){return(new Date).getFullYear()},ldrly.util.hide={},ldrly.util.show={},ldrly.util.hide.left=function(){$("#leftside").hide("slow","swing",function(){$("#contentData").removeClass("span9").addClass("span11")})},ldrly.util.show.left=function(){$("#leftside").show("slow","swing",function(){$("#contentData").removeClass("span11").addClass("span9")})},ldrly.util.getUserFromSession=function(){var a=jaaulde.utils.cookies.get("userprofile");return a=JSON.parse(a.slice(2))},ldrly.util.getUseRoles=function(){var a=jaaulde.utils.cookies.get("userprofile");return a=JSON.parse(a.slice(2)),a.role},ldrly.util.role={},ldrly.util.role.isAdmin=function(){var a=jaaulde.utils.cookies.get("userprofile");return a=JSON.parse(a.slice(2)),_.indexOf(a.role,"Admin")>-1?!0:!1},ldrly.util.role.isTalentManager=function(){var a=jaaulde.utils.cookies.get("userprofile");return a=JSON.parse(a.slice(2)),_.indexOf(a.role,"Talent-Manager")>-1?!0:!1},ldrly.util.placeMultimediaVideo=function(a){var b=null,c=0,d=0;return b=decodeURIComponent(a),c=$(window).height(),d=.8*c,b='<iframe src="'+b+'" width="100%" height="'+d+'px" frameborder="0" allowfullscreen></iframe>'},ldrly.util.determineDecodeElementAction=function(a,b,c){switch(a){case"input":b.value=c;break;case"select":b.value=c;break;case"textarea":b.value=c;break;case"a":b.innerHTML=c;break;case"div":b.innerHTML=c;break;case"em":b.innerHTML=c;break;case"li":b.innerHTML=c;break;case"span":b.innerHTML=c;break;case"td":b.innerHTML=c}},ko.bindingHandlers.decode={init:function(a,b){console.log("@decodeHandlerInit");var c=ldrly.util.decode(b()),d=a.nodeName.toLowerCase();ldrly.util.determineDecodeElementAction(d,a,c)},update:function(a,b){console.log("@decodeHandlerUpdate");var c=ldrly.util.decode(b()),d=a.nodeName.toLowerCase();ldrly.util.determineDecodeElementAction(d,a,c)}};var ui={};ui.template={},ui.template.ldrly={},ui.template.ldrly.error={},ui.template.global={},ui.template.global.modal={},ui.template.global.modal.error={},ui.template.global={},ui.template.global.libs={},ui.template.global.style={},ui.template.global.page={},ui.template.global.page.head={},ui.template.global.page.body={},ui.template.global.menu={},ui.template.global.breadcrumbs={},ui.template.global.home={},ui.template.global.footer={},ui.template.global.modal={},ui.template.global.modal.error={},ui.template.global.modal.error.xhr={},ui.template.ldrly.error={},ui.template.ldrly.error='<div id="status" class="container-fluid hide"><div class="row-fluid span12"><div id="progress" class="progress progress-striped active closable"><div id="progress-bar" class="bar" style="width: 0%;" ></div></div></div><div id="error-alert" class="alert alert-block alert-error fade in hide closable"><button type="button" class="close" data-hide="closable" data-bind="click: ldrly.viewmodel.helper.hideStatus">×</button><h4 class="alert-heading">Error!!!</h4><p id="error-alert-msg">The operation has failed! Please try again later.</p></div><div id="success-alert" class="alert alert-block alert-success fade in hide closable"><button type="button" class="close" data-hide="closable" data-bind="click: ldrly.viewmodel.helper.hideStatus">×</button><h4 class="alert-heading">Success!</h4><p id="success-alert-msg">The operation has performed successfully.</p></div></div>',ui.template.global.style="<!-- Global Styles-->{{#global.style}}<link href='{{{href}}}' rel='{{rel}}' media='{{media}}'>{{/global.style}}<!-- /Global Styles--><!-- Local Styles-->{{#style}}<link href='{{{href}}}' rel='{{rel}}' media='{{media}}'>{{/style}}<!-- /Local Styles-->",ui.template.global.page.head="<head><title>{{title}}</title><link rel='shortcut icon' href='/img/favicon/ldrly_ico.ico' type='image/x-icon' /><meta name='viewport' content='width=device-width, initial-scale=1.0'><meta http-equiv='Content-Type' content='text/html;charset=utf-8'>"+ui.template.global.style+"</head>",ui.template.global.menuNoStatus='<div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container-fluid><div class="navbar-header"><!-- Responsive Navbar Part 1: Button for triggering responsive navbar.  --><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand ldrly-logo" href="#"><img src="{{{global.project.icon}}}"> </a><!-- Responsive Navbar Part 2: Place all navbar contents you want collaposed within .navbar-collapse.collapse --><div class="collapse nav-collapse"><ul class="nav navbar-nav pull-right"> {{#menu}}<li class="{{active}}"><a href="{{url}}"><i class="{{icon}}"></i>{{name}}</a></li>{{/menu}}</ul> </div><!--/.nav-collapse --></div></div> <!--/container--></div>',ui.template.global.footer='<div class="footer navbar navbar-fixed-bottom"><p class="text-center">&copy; LDRLY - Leaderboard (<a href="http://ldrly.geekatron.org">LDRLY</a>) 2014</p></div>',ui.template.global.modal.template='<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button><h3 id="myModalLabel">Concept Properties</h3></div><div class="modal-body"><p>Body content here....</p></div><div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">Close</button><button class="btn btn-primary">Save Changes</button></div></div>',ui.template.global.modal.error.xhr='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button><h3 id="viewModalLabel">ERROR!</h3></div><div class="modal-body"><div class="container-fulid"><div class="row-fluid"><div class="span3"> Status Code: </div><div class="span9"> {{status}} </div></div><div class="row-fluid"><div class="span3"> Status Message: </div><div class="span9"> {{statusText}} </div></div><div class="row-fluid"><div class="span3"> Response Message: </div><div class="span9"> {{responseText}} </div></div></div></div><div class="modal-footer"><button class="btn btn-warning" data-dismiss="modal" aria-hidden="true">Close</button></div>',ui.template.global.error={},ui.template.global.error.s404={},ui.template.global.error.s500={},ui.template.global.error.head=ui.template.global.page.head,ui.template.global.error.s404.content='<div class="container-fluid"><div class="row pagination-centered"><div class="err-title">{{error.404.title}}</div><div class="err-msg">{{#error.404.message}}<span>{{.}}</span>{{/error.404.message}}</div><ul class="err-msg">{{#error.404.list}}<li><span class="err-bullet">*  {{.}}</span></li>{{/error.404.list}}</ul><div class="err-msg">{{error.404.final}}</div><img class="err-img-right" src="/img/error/b_bwahaha.png"></div></div>',ui.template.global.error.s404.body='<body id="error_page">'+ui.template.global.menu+ui.template.global.error.s404.content+'<!-- Global Libs-->{{#global.libs}}<script src="{{src}}"></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src="{{src}}"></script>{{/libs}}<!-- /Local Libs--></body>',ui.template.global.error.s404.page="<!DOCTYPE html><html>"+ui.template.global.error.head+ui.template.global.error.s404.body+"</html>",ui.template.global.error.s500.content='<div class="container-fluid"><div class="row pagination-centered"><div class="err-title">{{error.500.title}}</div><div class="err-msg">{{#error.500.message}}<span>{{.}}</span>{{/error.500.message}}</div><ul class="err-msg">{{#error.500.list}}<li><span class="err-bullet">*  {{.}}</span></li>{{/error.500.list}}</ul><div class="err-msg"><span>{{err}}</span></div><div class="err-msg">{{error.500.final}}</div><img class="err-img" src="/img/error/h_nerd.png"></div></div>',ui.template.global.error.s500.body='<body id="error_page">'+ui.template.global.menu+ui.template.global.error.s500.content+'<!-- Global Libs-->{{#global.libs}}<script src="{{src}}"></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src="{{src}}"></script>{{/libs}}<!-- /Local Libs--></body>',ui.template.global.error.s500.page="<!DOCTYPE html><html>"+ui.template.global.error.head+ui.template.global.error.s500.body+"</html>",ui.template.ldrly||(ui.template.ldrly={}),ui.template.ldrly.layout={},ui.template.ldrly.layout.onecolumn={},ui.template.ldrly.layout.onecolumn.menu={},ui.template.ldrly.layout.onecolumn.modal={},ui.template.ldrly.layout.onecolumn.column={},ui.template.ldrly.layout.onecolumn.content={},ui.template.ldrly.layout.onecolumn.head={},ui.template.ldrly.layout.onecolumn.body={},ui.template.ldrly.layout.onecolumn.page={},ui.template.ldrly.layout.onecolumn.column="<div class='text-center col-md-12'><div class='page-header'><h1>{{title}} <small>({{acronym}})</small></h1></div>{{#description}}<p>{{.}}</p>{{/description}}</div>",ui.template.ldrly.layout.onecolumn.content="<div id='columns' class='container-fluid'><div class='row'>"+ui.template.ldrly.error+"</div><div class='row content home'>"+ui.template.ldrly.layout.onecolumn.column+"</div></div>",ui.template.ldrly.layout.onecolumn.head=ui.template.global.page.head,ui.template.ldrly.layout.onecolumn.body="<body>"+ui.template.global.menuNoStatus+ui.template.ldrly.layout.onecolumn.content+ui.template.global.footer+"<!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}<!-- /Local Libs--></body>",ui.template.ldrly.layout.onecolumn.page="<!DOCTYPE html><html>"+ui.template.ldrly.layout.onecolumn.head+ui.template.ldrly.layout.onecolumn.body+"</html>",ui.template.ldrly.layout.twocolumn={},ui.template.ldrly.layout.twocolumn.menu={},ui.template.ldrly.layout.twocolumn.modal={},ui.template.ldrly.layout.twocolumn.left={},ui.template.ldrly.layout.twocolumn.right={},ui.template.ldrly.layout.twocolumn.columns={},ui.template.ldrly.layout.twocolumn.content={},ui.template.ldrly.layout.twocolumn.head={},ui.template.ldrly.layout.twocolumn.body={},ui.template.ldrly.layout.twocolumn.page={},ui.template.ldrly.layout.twocolumn.left="<div class='col-md-3 well'>{{#behaviour}}<h4>{{name}}</h4><hr class='min-hr'><ul>{{#children}}<li><a href='#' data-bind='{{action}}'>{{name}}</a></li>{{/children}}</ul>{{/behaviour}}</div>",ui.template.ldrly.layout.twocolumn.right="<div id='content' class='text-center col-md-9 well'><div class='page-header'><h1>{{title}} <small>({{acronym}})</small></h1></div>{{#description}}<p>{{.}}</p>{{/description}}</div>",ui.template.ldrly.layout.twocolumn.columns="<!DOCTYPE html><html>"+ui.template.ldrly.layout.twocolumn.left+ui.template.ldrly.layout.twocolumn.right+"</html>",ui.template.ldrly.layout.twocolumn.content="<div id='columns' class='container-fluid'><div class='row'>"+ui.template.ldrly.error+"</div><div class='row'>"+ui.template.ldrly.layout.twocolumn.columns+"</div></div>",ui.template.ldrly.layout.twocolumn.head=ui.template.global.page.head,ui.template.ldrly.layout.twocolumn.body="<body>"+ui.template.global.menu+ui.template.ldrly.layout.twocolumn.content+ui.template.global.footer+"<!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}<!-- /Local Libs--></body>",ui.template.ldrly.layout.twocolumn.page="<!DOCTYPE html><html>"+ui.template.ldrly.layout.twocolumn.head+ui.template.ldrly.layout.twocolumn.body+"</html>",ui.template.ldrly.libs="<!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}",ui.template.ldrly.home={},ui.template.ldrly.home.leaderboard={},ui.template.ldrly.home.leaderboard.result='<!-- ko if: state() === 1 --><table class="table table-striped well"><thead><tr><th class="text-center">Username</th><th class="text-center">Ranking</th><th class="text-center">Value</th></tr></thead><tbody data-bind="foreach: leaderboard()"><tr><td><div data-bind="text: username"></div></td><td><div data-bind="text: ranking"></div></td><td><div data-bind="text: value"></div></td></tr></tbody></table><!-- /ko -->',ui.template.ldrly.home.leaderboard.userstats='<!-- ko if: state() === 2 --><table class="table table-striped well"><thead><tr><th>Stat Name</th><th>Stat Value</th></tr></thead><tbody data-bind="foreach: userstats()"><tr><td><div data-bind="text: name"></div></td><td><div data-bind="text: value"></div></td></tr></tbody></table><!-- /ko -->',ui.template.ldrly.home.leaderboard.search='<table class="table table-striped well"><thead><tr class="text-center"><th>Search by Username</th><th></th><th>Search by Stat Name</th><th></th></tr></thead><tbody><tr><td><input id="username" type="text" class="form-control col-md-8" placeholder="e.g. player0" required=""></td><td><button type="button" data-bind="click: retrieveUserStats" class="btn btn-default"><span class="glyphicon glyphicon-user">Search</span></button></td><td><input id="statname" type="text" class="form-control col-xs-8" placeholder="e.g. wins" required=""></td><td><button type="button" data-bind="click: retrieveLeaderboard" class="btn btn-primary"><span class="glyphicon glyphicon-tower">Search</span></button></td></tr></tbody></table>',ui.template.ldrly.home.leaderboard.content=ui.template.ldrly.home.leaderboard.search+ui.template.ldrly.home.leaderboard.result+ui.template.ldrly.home.leaderboard.userstats,ui.template.ldrly.home.column="<div class='text-center'><div class='page-header'><h1>{{title}} <small>({{acronym}})</small></h1></div>{{#description}}<p>{{.}}</p>{{/description}}"+ui.template.ldrly.home.leaderboard.content+"</div>",ui.template.ldrly.home.content="<script>jQuery(document).ready(function(){   var viewModel = new ldrly.viewmodel.Leaderboard();    ko.applyBindings(viewModel); });</script><div id='columns' class='container'><div class='row'>"+ui.template.ldrly.error+"</div><div class='row content home'>"+ui.template.ldrly.home.column+"</div></div>",ui.template.ldrly.home.head=ui.template.global.page.head,ui.template.ldrly.home.body="<body><!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}<!-- /Local Libs-->"+ui.template.global.menuNoStatus+ui.template.ldrly.home.content+ui.template.global.footer+"</body>",ui.template.ldrly.home.page="<!DOCTYPE html><html>"+ui.template.ldrly.home.head+ui.template.ldrly.home.body+"</html>",ui.template.ldrly.stats={},ui.template.ldrly.stats.leaderboard={},ui.template.ldrly.stats.leaderboard.create='<table class="table table-striped well"><thead><tr class="text-center"><th>Username</th><th>Stat Name</th><th>Stat Value</th><th></th></tr></thead><tbody><tr><td><input id="username" type="text" class="form-control" data-type="value: username" placeholder="e.g. player0" required></td><td><input id="statname" type="text" class="form-control" data-type="value: statname" placeholder="e.g. coins_earned" required></td><td><input id="statvalue" type="number" class="form-control" data-type="value: statvalue" placeholder="e.g. 456" required></td><td><button type="button" data-bind="click: setUserStat" class="btn btn-default"><span class="glyphicon glyphicon-user">Set Stat</span></button></td></tr></tbody></table><!-- ko if: state() === 1 --><div class="well"><p data-bind="text: response"></p></div><!-- /ko -->',ui.template.ldrly.stats.leaderboard.content=ui.template.ldrly.stats.leaderboard.create,ui.template.ldrly.stats.column="<div class='text-center'><div class='page-header'><h1>{{title}} <small>({{acronym}})</small></h1></div>{{#description}}<p>{{.}}</p>{{/description}}"+ui.template.ldrly.stats.leaderboard.content+"</div>",ui.template.ldrly.stats.content="<script>jQuery(document).ready(function(){   var viewModel = new ldrly.viewmodel.Statistics();    ko.applyBindings(viewModel); });</script><div id='columns' class='container'><div class='row'>"+ui.template.ldrly.error+"</div><div class='row content home'>"+ui.template.ldrly.stats.column+"</div></div>",ui.template.ldrly.stats.head=ui.template.global.page.head,ui.template.ldrly.stats.body="<body><!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}<!-- /Local Libs-->"+ui.template.global.menuNoStatus+ui.template.ldrly.stats.content+ui.template.global.footer+"</body>",ui.template.ldrly.stats.page="<!DOCTYPE html><html>"+ui.template.ldrly.stats.head+ui.template.ldrly.stats.body+"</html>",ui.template.ldrly.github={},ui.template.ldrly.github.column="<div class='text-center'><div class='page-header'><h1>{{title}} <small>({{acronym}})</small></h1></div>{{#description}}<p>{{.}}</p>{{/description}}<iframe src=\"http://github.com/geekatron/LDRLY-THT\"></iframe></div>",ui.template.ldrly.github.content="<div id='columns' class='container'><div class='row'>"+ui.template.ldrly.error+"</div><div class='row content home'>"+ui.template.ldrly.github.column+"</div></div>",ui.template.ldrly.github.head=ui.template.global.page.head,ui.template.ldrly.github.body="<body><!-- Global Libs-->{{#global.libs}}<script src='{{{src}}}'></script>{{/global.libs}}<!-- /Global Libs--><!-- Local Libs-->{{#libs}}<script src='{{{src}}}'></script>{{/libs}}<!-- /Local Libs-->"+ui.template.global.menuNoStatus+ui.template.ldrly.github.content+ui.template.global.footer+"</body>",ui.template.ldrly.github.page="<!DOCTYPE html><html>"+ui.template.ldrly.github.head+ui.template.ldrly.github.body+"</html>",ldrly.integration={},ldrly.integration.error={},ldrly.integration.rest={},ldrly.integration.error.xhr=function(a,b,c){console.log("Error! "+c);var d={responseText:a.responseText,status:a.status,statusText:a.statusText},e="",f="";e=ui.template.global.modal.error.xhr,f=d;var g=Mustache.to_html(e,f);$("#myModal").html(g),$("#myModal").modal("show")},ldrly.integration.rest.stats={},ldrly.integration.rest.stats.set=function(a,b,c,d){var e=ldrly.config.getEndPoints(),f=e.ldrly.url,g="/leaderboard/user/"+a+"/stat/"+b,h=f+g,c={value:c},i=$.ajax({url:h,type:"PUT",data:JSON.stringify(c),contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});i.done(function(a){d(void 0,a)}),i.always(function(){}),i.fail(function(a,b,c){console.log("Error! "+b+":"+c);var e={responseText:a.responseText,status:a.statsus,statusText:a.statsusText};d(e)})},ldrly.integration.rest.stats.retrieve=function(a,b){var c=ldrly.config.getEndPoints(),d=c.ldrly.url,e="/leaderboard/user/"+a+"/stats",f=d+e,g=$.ajax({url:f,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});g.done(function(a){b(void 0,a)}),g.always(function(){}),g.fail(function(a,c,d){console.log("Error! "+c+":"+d);var e={responseText:a.responseText,status:a.statsus,statusText:a.statsusText};b(e)})},ldrly.integration.rest.stats.leaderboard=function(a,b){var c=ldrly.config.getEndPoints(),d=c.ldrly.url,e="/leaderboard/stat/"+a,f=d+e,g=$.ajax({url:f,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});g.done(function(a){b(void 0,a)}),g.always(function(){}),g.fail(function(a,c,d){console.log("Error! "+c+":"+d);var e={responseText:a.responseText,status:a.statsus,statusText:a.statsusText};b(e)})},ldrly.integration.rest.leaderboard={},ldrly.integration.rest.leaderboard.assign={},ldrly.integration.rest.leaderboard.unassign={},ldrly.integration.rest.leaderboard.create=function(a,b){var c=ldrly.config.getEndPoints(),d=c.ldrly.url,e="/profile/user/",f=d+e,g=$.ajax({url:f,type:"POST",data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});g.done(function(a){b(void 0,a)}),g.always(function(){}),g.fail(function(a,c,d){console.log("Error! "+c+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};b(e)})},ldrly.integration.rest.leaderboard.retrieve=function(a,b){var c=ldrly.config.getEndPoints(),d=c.ldrly.url,e="/profile/user/"+a,f=d+e,g=$.ajax({url:f,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});g.done(function(a){b(void 0,a)}),g.always(function(){}),g.fail(function(a,c,d){console.log("Error! "+c+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};b(e)})},ldrly.integration.rest.leaderboard.list=function(a){var b=ldrly.config.getEndPoints(),c=b.ldrly.url,d="/profile/user/",e=c+d,f=$.ajax({url:e,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});f.done(function(b){a(void 0,b)}),f.always(function(){}),f.fail(function(b,c,d){console.log("Error! "+c+":"+d);var e={responseText:b.responseText,status:b.leaderboardus,statusText:b.leaderboardusText};a(e)})},ldrly.integration.rest.leaderboard.update=function(a,b,c){var d=ldrly.config.getEndPoints(),e=d.ldrly.url,f="/profile/user/"+a,g=e+f,h=$.ajax({url:g,type:"PUT",data:JSON.stringify(b),contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});h.done(function(a){c(void 0,a)}),h.always(function(){}),h.fail(function(a,b,d){console.log("Error! "+b+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};c(e)})},ldrly.integration.rest.leaderboard.password=function(a,b,c){var d=ldrly.config.getEndPoints(),e=d.ldrly.url,f="/profile/user/"+a+"/password/",g=e+f,h=$.ajax({url:g,type:"PUT",data:JSON.stringify(b),contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});h.done(function(a){c(void 0,a)}),h.always(function(){}),h.fail(function(a,b,d){console.log("Error! "+b+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};c(e)})},ldrly.integration.rest.leaderboard.destroy=function(a,b){var c=ldrly.config.getEndPoints(),d=c.ldrly.url,e="/profile/user/"+a,f=d+e,g=$.ajax({url:f,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});g.done(function(a){b(void 0,a)}),g.always(function(){}),g.fail(function(a,c,d){console.log("Error! "+c+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};b(e)})},ldrly.integration.rest.leaderboard.assign.position=function(a,b,c){var d=ldrly.config.getEndPoints(),e=d.ldrly.url,f="/profile/user/"+a+"/assign/profile/position/"+b,g=e+f,h=$.ajax({url:g,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});h.done(function(a){c(void 0,a)}),h.always(function(){}),h.fail(function(a,b,d){console.log("Error! "+b+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};c(e)})},ldrly.integration.rest.leaderboard.unassign.position=function(a,b,c){var d=ldrly.config.getEndPoints(),e=d.ldrly.url,f="/profile/user/"+a+"/assign/profile/position/"+b,g=e+f,h=$.ajax({url:g,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",headers:{Accept:"application/json"}});h.done(function(a){c(void 0,a)}),h.always(function(){}),h.fail(function(a,b,d){console.log("Error! "+b+":"+d);var e={responseText:a.responseText,status:a.leaderboardus,statusText:a.leaderboardusText};c(e)})},ldrly.viewmodel={},ldrly.viewmodel.helper={},ldrly.viewmodel.helper.onlineStatus=function(){$("#product_status").removeClass("offline"),$("#product_status").addClass("online"),$("#product_status_icon").removeClass("icon-refresh"),$("#product_status_icon").removeClass("icon-off"),$("#product_status_icon").addClass("icon-globe"),$("#product_status_text").html("Online")},ldrly.viewmodel.helper.offlineStatus=function(){$("#product_status").removeClass("online"),$("#product_status").addClass("offline"),$("#product_status_icon").removeClass("icon-refresh"),$("#product_status_icon").removeClass("icon-globe"),$("#product_status_icon").addClass("icon-off"),$("#product_status_text").html("Offline")},ldrly.viewmodel.helper.showStatus=function(){$("#status").removeClass("hide"),$("#progress-bar").removeClass("hide"),$("#progress").removeClass("hide"),$("#success-alert").addClass("hide"),$("#error-alert").addClass("hide"),$("#progress-bar").css("width","50%"),$("#progress").addClass("active"),$("#alert-msg").empty()},ldrly.viewmodel.helper.hideStatus=function(){$("#progress-bar").css("width","0%"),$("#progress").removeClass("active"),$("#progress").addClass("hide"),$("#alert-msg").empty(),$("#success-alert").addClass("hide"),$("#error-alert").addClass("hide"),$("#progress-bar").addClass("hide"),$("#status").addClass("hide")},ldrly.viewmodel.helper.errorStatus=function(a){$("#success-alert").addClass("hide"),$("#error-alert").removeClass("hide"),$("#error-alert").removeAttr("style"),$("#progress").removeAttr("style"),$("#progress-bar").addClass("bar-danger"),$("#progress-bar").removeClass("bar-success"),$("#progress").removeClass("active"),a&&$("#error-alert-msg").html(a)},ldrly.viewmodel.helper.successStatus=function(a){$("#error-alert").addClass("hide"),$("#success-alert").removeClass("hide"),$("#success-alert").removeAttr("style"),$("#progress").removeAttr("style"),$("#progress-bar").css("width","100%"),$("#progress-bar").addClass("bar-success"),$("#progress-bar").removeClass("bar-danger"),$("#progress").removeClass("active"),a&&$("#success-alert-msg").html(a)},ldrly.viewmodel.Leaderboard={},ldrly.viewmodel.Leaderboard=function(){var a=this;a.state=ko.observable(0),a.simulate=ko.observable(),a.stat=ko.observable(),a.username=ko.observable(),a.leaderboard=ko.observableArray(),a.userstats=ko.observableArray(),a.retrieveLeaderboard=function(){function b(b,c){b?(console.error(b),ldrly.viewmodel.helper.errorStatus("Error retrieving Leaderboard!")):(ldrly.viewmodel.helper.successStatus("Leaderboard Retrieved!!"),a.leaderboard=ko.observableArray(c),a.state(1))}var c=$("#statname").val().toLocaleLowerCase();ldrly.viewmodel.helper.showStatus(),_.isUndefined(c)||_.isNull(c)?ldrly.viewmodel.helper.errorStatus("Missing Stat Name!!"):c.length>0?ldrly.integration.rest.stats.leaderboard(c,b):ldrly.viewmodel.helper.errorStatus("Missing Stat Name!!")},a.retrieveUserStats=function(){function b(b,c){b?(console.error(b),ldrly.viewmodel.helper.errorStatus("Error retrieving user statistics!")):(ldrly.viewmodel.helper.successStatus("User statistics retrieved!!"),a.userstats.removeAll(),a.userstats(c),a.state(2))}var c=$("#username").val();ldrly.viewmodel.helper.showStatus(),_.isUndefined(c)||_.isNull(c)?ldrly.viewmodel.helper.errorStatus("Missing username!!"):c.length>0?ldrly.integration.rest.stats.retrieve(c.toLocaleLowerCase(),b):ldrly.viewmodel.helper.errorStatus("Missing username!!")},function(){function b(){}a.state(0),b()}()},ldrly.viewmodel.Statistics={},ldrly.viewmodel.Statistics=function(){var a=this;a.state=ko.observable(0),a.simulate=ko.observable(),a.username=ko.observable(),a.statname=ko.observable(),a.statvalue=ko.observable(),a.response=ko.observable(),a.setUserStat=function(){function b(b,c){b?(console.error(b),ldrly.viewmodel.helper.errorStatus("Error setting statistic!!")):(ldrly.viewmodel.helper.successStatus("Statistic set!!"),a.response(JSON.stringify(c)),a.state(1))}var c=$("#username").val().toLowerCase(),d=$("#statname").val().toLowerCase(),e=$("#statvalue").val();ldrly.viewmodel.helper.showStatus(),!_.isUndefined(c)&&!_.isNull(c)&&c.length>0?!_.isUndefined(d)&&!_.isNull(d)&&d.length>0?!_.isUndefined(e)&&!_.isNull(e)&&e.length>0?ldrly.integration.rest.stats.set(c,d,e,b):ldrly.viewmodel.helper.errorStatus("Missing Stat Value!!"):ldrly.viewmodel.helper.errorStatus("Missing Stat Name!!"):ldrly.viewmodel.helper.errorStatus("Missing Username!!")},function(){function b(){}a.state(0),b()}()};